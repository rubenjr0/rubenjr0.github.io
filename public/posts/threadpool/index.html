<!doctype html><html class="dark light"><head><meta charset=UTF-8><meta content="IE=edge" http-equiv=X-UA-Compatible><meta content="width=device-width,initial-scale=1.0" name=viewport><title>
         Threads and threadpools
        
    </title><meta content="Threads and threadpools" property=og:title><meta content="Ramblings about machine learning, computer science, and other dark arts." property=og:description><meta content="Ramblings about machine learning, computer science, and other dark arts." name=description><link href=/icon/favicon.png rel=icon type=image/png><link href=https://rubenjr0.github.io/fonts.css rel=stylesheet><script>MathJax={tex:{inlineMath:[['$','$'],['\\(','\\)']]}}</script><script async id=MathJax-script src=https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js></script><link title="Bits, Bytes && Backprop" href=https://rubenjr0.github.io/atom.xml rel=alternate type=application/atom+xml><link href=https://rubenjr0.github.io/theme/light.css rel=stylesheet><link href=/light.css rel=stylesheet><link href=https://rubenjr0.github.io/theme/dark.css id=darkModeStyle rel=stylesheet><link href=/dark.css id=darkModeSyntax rel=stylesheet><link href=https://rubenjr0.github.io/main.css media=screen rel=stylesheet><body><div class=content><header><div class=main><a href=https://rubenjr0.github.io>Bits, Bytes && Backprop</a> | <a class=social href=https://www.linkedin.com/in/rubenjr0/ rel=me> <img alt=linkedin src=/social_icons/linkedin.svg> </a><a class=social href=https://github.com/rubenjr0 rel=me> <img alt=github src=/social_icons/github.svg> </a></div><nav><a href=/posts style=margin-left:.7em>/posts</a><a href=/projects style=margin-left:.7em>/projects</a><a href=/about style=margin-left:.7em>/about</a> | <a href=javascript:void(0) id=dark-mode-toggle onclick=toggleTheme()> <img id=sun-icon src=/feather/sun.svg style=filter:invert(1)> <img id=moon-icon src=/feather/moon.svg> </a><script src=https://rubenjr0.github.io/js/themetoggle.js></script></nav></header><main><article><div class=title><div class=page-header>Threads and threadpools<span class=primary-color style=font-size:1.6em>.</span></div><div class=meta>Posted on <time>2022-10-18</time></div></div><h1>Table of Contents</h1><ul><li><a href=https://rubenjr0.github.io/posts/threadpool/#what-are-threads>What are threads?</a> <ul><li><a href=https://rubenjr0.github.io/posts/threadpool/#example>Example</a><li><a href=https://rubenjr0.github.io/posts/threadpool/#the-problem>The problem</a></ul><li><a href=https://rubenjr0.github.io/posts/threadpool/#threadpools>Threadpools</a></ul><section class=body><h1 id=what-are-threads>What are threads?</h1><h2 id=example>Example</h2><pre class="language-rs z-code" data-lang=rs><code class=language-rs data-lang=rs><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-function z-rust"><span class="z-storage z-type z-function z-rust">fn</span> </span><span class="z-entity z-name z-function z-rust">main</span></span><span class="z-meta z-function z-rust"><span class="z-meta z-function z-parameters z-rust"><span class="z-punctuation z-section z-parameters z-begin z-rust">(</span></span><span class="z-meta z-function z-rust"><span class="z-meta z-function z-parameters z-rust"><span class="z-punctuation z-section z-parameters z-end z-rust">)</span></span></span></span><span class="z-meta z-function z-rust"> </span><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-begin z-rust">{</span>
    <span class="z-storage z-type z-rust">let</span> listener <span class="z-keyword z-operator z-assignment z-rust">=</span> <span class="z-meta z-path z-rust">TcpListener<span class="z-punctuation z-accessor z-rust">::</span></span>bind<span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-string z-quoted z-double z-rust"><span class="z-punctuation z-definition z-string z-begin z-rust">"</span>127.0.0.1:8080<span class="z-punctuation z-definition z-string z-end z-rust">"</span></span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">unwrap</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>

    <span class="z-keyword z-control z-rust">for</span> stream <span class="z-keyword z-operator z-rust">in</span> listener<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">incoming</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span> <span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-begin z-rust">{</span>
        <span class="z-storage z-type z-rust">let</span> stream <span class="z-keyword z-operator z-assignment z-rust">=</span> stream<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">unwrap</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>

        <span class="z-support z-function z-rust">handle_connection</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span>stream</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
    </span><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-end z-rust">}</span></span>
</span><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-end z-rust">}</span></span></span>
</span></code></pre><h2 id=the-problem>The problem</h2><h1 id=threadpools>Threadpools</h1></section></article></main></div>